<hr />
<div class="title" style="background-color: #0c0038;">
    <h1 class="text-light text-center pt-3 pb-3">Switch Setup Instructions</h1>
</div>
<small class="text-muted mb-3 mt-0">
    Required tools &amp; setup instructions for Switch games (LGPE/SwSh/BDSP/LA/SV).
</small>
<hr />

<div class="alert alert-danger" style="border: 1px solid #b60606; border-radius: 8px; padding: 15px; background-color: #f8d7da; color: #721c24;">
    <span class="fw-bold">Important -</span> This method requires a Custom Firmware (CFW) Switch running Atmosphere, as it involves backing up and modifying your save file and console time using Homebrew applications. Connecting to official online servers is also required to redeem the gift. For this reason you cannot use this method on standard (retail) hardware or emulators.
</div>

<div class="card border-dark mb-3">
    <div class="anchored card-header" style="background-color: #0c0038;" id="tool-requirements-switch">
        <span class="fw-bold text-light">Tool Requirements &amp; Installation</span>
    </div>
    <div class="card-body card-bg">
        <h6 span class="fw-bold">Necessary Tools</h6>
        <ul>
            <li><a href="https://github.com/Manu098vm/Switch-Gift-Data-Manager/releases" target="_blank" rel="noopener">Switch Gift Card Manager</a> (GUI for Windows users)</li>
            <li><a href="https://github.com/J-D-K/JKSV/releases/tag/09%2F01%2F2021" target="_blank" rel="noopener">JKSV Save Manager</a> (Save backup homebrew)</li>
            <li><a href="https://github.com/3096/switch-time/releases/" target="_blank" rel="noopener">Switch-time</a> (Time modification homebrew)</li>
        </ul>

        <h6 span class="fw-bold">Setup &amp; Installation</h6>
        <ol>
            <li>Download <code class="fw-bold">Switch Gift Card Manager</code> and extract it to a known location on your computer, confirm that the executable opens properly with no issues.</li>
            <ul>
                <li>If you are running into issues opening the program you will likely need to install the correct <a href="https://dotnet.microsoft.com/en-us/download/dotnet/9.0" target="_blank" rel="noopener">.NET Runtime</a>, do not continue until the program is opening properly.</li>
            </ul>
            <li>Download <code class="fw-bold">JKSV.nro</code> then move the downloaded file to the <code class="fw-bold">Switch</code> folder of your consoles SD card.</li>
            <li>Download <code class="fw-bold">switch-time.nro</code> then move the downloaded file to the <code class="fw-bold">Switch</code> folder of your consoles SD card.</li>
            <li>Reboot the console into SysCFW as you will be required to connect to official Nintendo servers to redeem your gift.</li>
        </ol>

        <p>This guide takes information from the <a href="https://projectpokemon.org/home/forums/topic/62491-switch-gift-data-manager-import-wondercards-into-switch-games-by-faking-bcat-packages/" target="_blank" rel="noopener">official ProjectPokemon guide</a> in an attempt to simplify the process for the end user. It is heavily advised to read the official guide and FAQ section first before continuing.</p>

    </div>
</div>

<p><span class="fw-bold">Figure 1 -</span> Acquiring Switch Wonder Cards</p>
<img src="https://raw.githubusercontent.com/Billo-PS/billo-guides-images/refs/heads/main/misc/wonder-card-injection/switch/wonder-card-injection.gif" alt="switch-1" class="img-fluid clickable-image" data-image="https://raw.githubusercontent.com/Billo-PS/billo-guides-images/refs/heads/main/misc/wonder-card-injection/switch/wonder-card-injection.gif">

<div class="card border-dark mb-3">
    <div class="anchored card-header" style="background-color: #0c0038;" id="acquiring-switch-wondercards">
        <span class="fw-bold text-light">Switch Wonder Cards</span>
    </div>
    <div class="card-body card-bg">
        <p>Wonder Cards for all Switch titles can be downloaded through the Switch Gift Card Manager itself by doing the following:</p>

        <h6 span class="fw-bold">Step-by-step:</h6>
        <ol>
            <li>Open <code class="fw-bold">Switch Gift Card Manager</code>, then click the <code class="fw-bold">Tools</code> button in the navigation bar at the top of the window.</li>
            <li>Click <code class="fw-bold">Download latest Mystery Gift Database</code>, then wait for the MGDB popup to show on-screen and click <code class="fw-bold">OK</code>.</li>
            <li>You should now see a <code class="fw-bold">mgdb</code> folder has been generated next to the Switch Gift Manager executable. This folder contains your Wonder Cards.</li>
            <ul>
                <li>The <code class="fw-bold">/Released/Gen 7</code> directory contains LGPE Wonder Cards.</li>
                <li>The <code class="fw-bold">/Released/Gen 8</code> directory contains SwSh/BDSP/LA Wonder Cards.</li>
                <li>The <code class="fw-bold">/Released/Gen 9</code> directory contains SV Wonder Cards.</li>
                <li><span class="fw-bold">Note -</span> "Simulated" Wonder Cards are not true dumps and should not be used if you wish to stay true to the official distribution.</li>
                <li><span class="fw-bold">Note -</span> With the exception of Mainland China exclusive gifts in LGPE, Switch distributions can be redeemed on any region/language save file.</li>
            </ul>
        </ol>

    </div>
</div>

<p><span class="fw-bold">Figure 2 -</span> Verifying Distribution Date</p>
<img src="https://raw.githubusercontent.com/Billo-PS/billo-guides-images/refs/heads/main/misc/wonder-card-injection/switch/distribution-date-verification.png" alt="switch-2" class="img-fluid clickable-image" data-image="https://raw.githubusercontent.com/Billo-PS/billo-guides-images/refs/heads/main/misc/wonder-card-injection/switch/distribution-date-verification.png">

<div class="card border-dark mb-3">
    <div class="anchored card-header" style="background-color: #0c0038;" id="distribution-research">
        <span class="fw-bold text-light">Verifying Distribution Date</span>
    </div>
    <div class="card-body card-bg">
        <p>After downloading your Wonder Cards it is recommended to research the distribution you plan to inject to determine the start/end date, this is important to keep in mind for legality purposes. You can find this information on the <a href="https://projectpokemon.org/home/files/category/2-event-gallery/" target="_blank" rel="noopener">ProjectPokemon Event Gallery Page</a> (see Subcategories on the right). Not doing your due diligence may result in the injected Pok&eacute;mon having an illegal met date depending on the game it was injected into.</p>

        <p>In this example we will be injecting the WORLDS 24 Steenee gift, Figure 2 shows that this distribution was active August 15th - August 18th 2024. This means we will need to modify our system time to be within these dates before redeeming the distribution. Information about how to safely modify your system time will be covered later.</p>
    </div>
</div>

<p><span class="fw-bold">Figure 3 -</span> Dumping BCAT Data</p>
<img src="https://raw.githubusercontent.com/Billo-PS/billo-guides-images/refs/heads/main/misc/wonder-card-injection/switch/dumping-bcat-data.jpg" alt="switch-3" class="img-fluid clickable-image" data-image="https://raw.githubusercontent.com/Billo-PS/billo-guides-images/refs/heads/main/misc/wonder-card-injection/switch/dumping-bcat-data.jpg">

<div class="card border-dark mb-3">
    <div class="anchored card-header" style="background-color: #0c0038;" id="dumping-bcat-data">
        <span class="fw-bold text-light">Dumping BCAT Data</span>
    </div>
    <div class="card-body card-bg">
        <p>BCAT data editing is what we will use to inject the Mystery Gift into our save file. This is done using JKSV, a save manager for CFW Switch consoles. Before doing anything else it is recommended to connect online in the game you plan to inject into and saving, this will ensure that you have the most up-to-date BCAT data available. Having out of date BCAT data will result in any changes being overwritten once you connect online.</p>

        <h6 span class="fw-bold">Step-by-step:</h6>
        <ol>
            <li>Connect to the internet or download Wild Area News (SwSh) / PokePortal News (SV) at least once to generate the latest BCAT data.</li>
            <li>Save and close the game you are playing, then press the <code class="fw-bold">Album</code> button to launch the Homebrew Menu.</li>
            <li>Navigate to JKSV and open it, scroll down past user profiles ands select <code class="fw-bold">BCAT</code>, then select the game that you wish to dump BCAT data on.</li>
            <li>Hover over <code class="fw-bold">New</code> and hold the <code class="fw-bold">L + R</code> buttons, then press the <code class="fw-bold">A</code> button to begin the BCAT dump. You can now release any buttons you were holding.</li>
            <li>A folder called <code class="fw-bold">BCAT [DATE] @ [TIME]</code> will be generated in the <code class="fw-bold">SD/JKSV/[Your Game ID]</code> path. Confirm that this folder exists.</li>
            <li>Move your dumped BCAT folder to a known location on your computer. It is suggested to make multiple copies as you will need to restore this later.</li>
        </ol>

    </div>
</div>

<p><span class="fw-bold">Figure 4 -</span> Generating Wonder Card BCAT</p>
<img src="https://raw.githubusercontent.com/Billo-PS/billo-guides-images/refs/heads/main/misc/wonder-card-injection/switch/generating-bcat-data.gif" alt="switch-4" class="img-fluid clickable-image" data-image="https://raw.githubusercontent.com/Billo-PS/billo-guides-images/refs/heads/main/misc/wonder-card-injection/switch/generating-bcat-data.gif">

<div class="card border-dark mb-3">
    <div class="anchored card-header" style="background-color: #0c0038;" id="generating-bcat-data">
        <span class="fw-bold text-light">Generating BCAT Data</span>
    </div>
    <div class="card-body card-bg">
        <p>After dumping your BCAT data by following the above steps, you will need to generate BCAT data that corrisponds with the event you wish to inject, this is done using the Switch Gift Data Manager.</p>

        <h6 span class="fw-bold">Step-by-step:</h6>
        <ol>
            <li>Open the <code class="fw-bold">Switch Gift Data Manager</code> and select your game of choice. In this example we will be pressing the <code class="fw-bold">SCVI</code> button as we are injecting into Scarlet/Violet.</li>
            <li>Click the <code class="fw-bold">Open Wondercard Files</code> button and select the card you wish to inject. Alternatively, drag and drop the card into the main window.</li>
            <li>Select <code class="fw-bold">Save as BCAT Package</code>, then set the <code class="fw-bold">Source BCAT Path</code> to the folder that contains the BCAT we dumped earlier.</li>
            <li>Set the <code class="fw-bold">Destination BCAT path</code> to a folder in a known location on your computer, this is where the forged BCAT package will be sent to after creation.</li>
            <li>Click the <code class="fw-bold">Save</code> button to save the new BCAT package. If done correctly you should now see a folder named <code class="fw-bold">Forged_BCAT_{Game}</code> inside the folder created in step 4.</li>
        </ol>

    </div>
</div>

<p><span class="fw-bold">Figure 5 -</span> Restoring BCAT Data</p>
<img src="https://raw.githubusercontent.com/Billo-PS/billo-guides-images/refs/heads/main/misc/wonder-card-injection/switch/restoring-forged-bcat.jpg" alt="switch-5" class="img-fluid clickable-image" data-image="https://raw.githubusercontent.com/Billo-PS/billo-guides-images/refs/heads/main/misc/wonder-card-injection/switch/restoring-forged-bcat.jpg">

<div class="card border-dark mb-3">
    <div class="anchored card-header" style="background-color: #0c0038;" id="restoring-bcat-data">
        <span class="fw-bold text-light">Restoring BCAT Data</span>
    </div>
    <div class="card-body card-bg">
        <p>After creating your forged BCAT data using the Switch Gift Data Manager, you will need to restore the BCAT using JKSV. This process is similar to the process used to dump BCAT from earlier.</p>

        <h6 span class="fw-bold">Step-by-step:</h6>
        <ol>
            <li>Move the forged BCAT package folder back onto your Switch SD card, it needs to be placed inside the <code class="fw-bold">SD/JKSV/[Game ID]</code> directory.</li>
            <li>Open JKSV again and select <code class="fw-bold">BCAT</code>, then select the game you wish to restore the forged BCAT onto.</li>
            <li>Hover over the forged BCAT and click the <code class="fw-bold">Y</code> button, press the <code class="fw-bold">A</code> button to confirm the BCAT restoration.</li>
        </ol>

    </div>
</div>

<p><span class="fw-bold">Figure 6 -</span> Setting System Time</p>
<img src="https://raw.githubusercontent.com/Billo-PS/billo-guides-images/refs/heads/main/misc/wonder-card-injection/switch/setting-system-time.jpg" alt="switch-6" class="img-fluid clickable-image" data-image="https://raw.githubusercontent.com/Billo-PS/billo-guides-images/refs/heads/main/misc/wonder-card-injection/switch/setting-system-time.jpg">

<div class="card border-dark mb-3">
    <div class="anchored card-header" style="background-color: #0c0038;" id="setting-system-time">
        <span class="fw-bold text-light">Setting System Time</span>
    </div>
    <div class="card-body card-bg">
        <p>At this point you should have created and restored the forged BCAT onto the game you are playing, you will now need to set the system date to a date that matches the distribution period of your selected event for legality purposes. This is done using the switch-time Homebrew application.</p>

        <h6 span class="fw-bold">Step-by-step:</h6>
        <ol>
            <li>Press the <code class="fw-bold">Album</code> button to launch the Homebrew Menu, then select the <code class="fw-bold">switch-time</code> application.</li>
            <li>Follow the instructions on-screen to set your system time to a valid date that matches your distribution (see Figure 2 if you are unsure what this means).</li>
            <li>Once you have selected a valid system time, press the <code class="fw-bold">A</code> button to apply these changes to your console.</li>
            <li>Exit the Homebrew Menu and open System Settings, scroll down to date/time and confirm that your date has been set properly.</li>
        </ol>

        <p><span class="fw-bold">Note -</span> If you are running into issues setting your system date, double check to make sure your console time/date is syncronized via the internet. If it is not syncronized via the internet this will not work.</p>

    </div>
</div>

<p><span class="fw-bold">Figure 7 -</span> Redeeming Your Gift</p>
<img src="https://raw.githubusercontent.com/Billo-PS/billo-guides-images/refs/heads/main/misc/wonder-card-injection/switch/gift-redemption.jpg" alt="switch-7" class="img-fluid clickable-image" data-image="https://raw.githubusercontent.com/Billo-PS/billo-guides-images/refs/heads/main/misc/wonder-card-injection/switch/gift-redemption.jpg">

<p>To redeem the gift, simply access the Mystery Gift feature in-game and click <code class="fw-bold">Redeem via internet</code>, you should now see and be able to redeem your injected Wonder Card.</p>

<div class="alert alert-danger" style="border: 1px solid #b60606; border-radius: 8px; padding: 15px; background-color: #f8d7da; color: #721c24;">
    <span class="fw-bold">Important -</span> After redeeming your gift it is advisable to restore a clean backup of your BCAT data before any edits were made as keeping hold of edited BCAT data may cause desync issues between your console and the server.
</div>